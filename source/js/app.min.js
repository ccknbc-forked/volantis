"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},customSearch;if(function(e){function t(){u=80,v=e(".l_header"),v[0]&&(u=v[0].clientHeight+16)}function a(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u,o=e(t.href?decodeURI(t.getAttribute("href")):t);e("html, body").animate({scrollTop:o.offset().top-a},500)}function o(){var t=e(".menu .active"),o=e(".s-top"),n=e("h1.title","#header-meta"),i=e(".safearea");void 0==window.pjax&&(t.length&&i&&t.click(function(e){e.preventDefault(),e.stopPropagation(),a(i),e.stopImmediatePropagation(),t.unbind("click")}),n.length&&i&&n.click(function(e){e.preventDefault(),e.stopPropagation(),a(i),e.stopImmediatePropagation(),n.unbind("click")})),o.length&&i&&o.click(function(e){e.preventDefault(),e.stopPropagation(),a(i),e.stopImmediatePropagation()});var c=e(".cover-wrapper"),s=e("#pjax-enable-cover").text(),r=0;c[0]&&"true"==s&&"none"!==e(".cover-wrapper#half").css("display")&&(r=c[0].clientHeight-240);var l=document.body.scrollTop;"true"==s&&"none"===e(".cover-wrapper#half").css("display")&&(l+=240),e(document,window).scroll(function(){var t=e(window).scrollTop();"true"==s&&"none"===e(".cover-wrapper#half").css("display")&&(t+=240);var a=t-l;l=t,t>240?(o.addClass("show"),a>0?o.removeClass("hl"):o.addClass("hl")):o.removeClass("show").removeClass("hl"),t-r>-1?v.addClass("show"):v.removeClass("show")})}function n(){if("true"==e.trim(e("#pjax-ispage").text())&&(window.subData={title:e.trim(e("#pjax-pageTitle").text()),tools:!0}),window.subData){var t=e("header .wrapper"),o=e(".s-comment",t),n=e(".s-toc",t);t.find(".nav-sub .title").text(window.subData.title);var i=document.body.scrollTop;e(document,window).scroll(function(){var a=e(window).scrollTop(),o=a-i;o>=50&&a>100?(i=a,t.addClass("sub")):o<=-50&&(i=a,t.removeClass("sub"))}),e(".l_body article#comments").length?o.click(function(t){t.preventDefault(),t.stopPropagation(),a(e(".l_body article#comments")),t.stopImmediatePropagation()}):o.remove();var c=e(".l_body .toc-wrapper");c.length&&c.children().length?(n.click(function(e){e.stopPropagation(),c.toggleClass("active"),n.toggleClass("active")}),e(document).click(function(e){e.stopPropagation(),c.removeClass("active"),n.removeClass("active")}),e(document,window).scroll(function(){c.removeClass("active"),n.removeClass("active")})):n.remove()}}function i(){var t=e("body .navigation");t.find("li a.active").removeClass("active"),t.find("div a.active").removeClass("active");var a=null,o=location.pathname.replace(/\/|%|\./g,"");0==o.length&&(o="home");var n=o.match(/page\d{0,}$/g);n&&(n=n[0],o=o.split(n)[0]);var i=o.match(/index.html/);i&&(i=i[0],o=o.split(i)[0]),o&&t&&(a=e("#"+o,t),function(e){e&&e.length&&e.addClass("active").siblings().removeClass("active")}(a))}function c(){e(".m-pc li > a[href]").parent().click(function(t){t.stopPropagation(),t.target.origin==t.target.baseURI&&e(".m-pc .list-v").hide()}),e(".m-phone li").click(function(t){t.stopPropagation(),e(e(t.currentTarget).children("ul")).show()}),s()}function s(){e(document).click(function(t){e(".m-phone .list-v").hide()}),e(window).scroll(function(){e(".m-phone .list-v").hide()})}function r(){var t=e(".l_header .switcher .s-search"),a=e(".l_header"),o=e(".l_header .m_search");0!==t.length&&(t.click(function(e){e.stopPropagation(),a.toggleClass("z_search-open"),t.toggleClass("active"),o.find("input").focus()}),e(document).click(function(e){a.removeClass("z_search-open"),t.removeClass("active")}),o.click(function(e){e.stopPropagation()}),a.ready(function(){a.bind("keydown",function(e){if(9==e.keyCode)return!1;var t,a,o=!!document.all;o?(t=window.event.keyCode,a=window.event):(t=e.which,a=e),9==t&&(o?(a.keyCode=0,a.returnValue=!1):(a.which=0,a.preventDefault()))})}))}function l(){var t=e(".toc-wrapper");if(0!==t.length){t.click(function(e){e.stopPropagation(),t.addClass("active")}),e(document).click(function(){return t.removeClass("active")}),t.on("click","a",function(o){o.preventDefault(),o.stopPropagation(),"A"===o.target.tagName?a(o.target,0):"SPAN"===o.target.tagName&&a(o.target.parentElement,0),t.removeClass("active");var n=e(".s-toc");n.length>0&&n.removeClass("active")});var o=Array.from(t.find("li a")),n=function(){return o.map(function(t){return Math.floor(e(decodeURI(t.getAttribute("href"))).offset().top-u)})},i=n(),c=e(document).height(),s=function(){var t=e("html").scrollTop()||e("body").scrollTop();if(e(document).height()!=c&&(t=e("html").scrollTop()||e("body").scrollTop(),c=e(document).height(),i=n()),i){for(var a=0,s=i.length-1,r=void 0;a<s;)r=a+s+1>>1,i[r]===t?a=s=r:i[r]<t?a=r:s=r-1;e(o).removeClass("active").eq(a).addClass("active")}};e(window).scroll(function(){s()});var r=null;e(window).bind("resize",function(){r&&clearTimeout(r),r=setTimeout(function(){i=n(),s()},100)}),s()}}function d(){var e="https://cdn.jsdelivr.net/gh/volantis-x/cdn-volantis@master/img/";"google"===SEARCH_SERVICE?customSearch=new GoogleCustomSearch({apiKey:GOOGLE_CUSTOM_SEARCH_API_KEY,engineId:GOOGLE_CUSTOM_SEARCH_ENGINE_ID,imagePath:e}):"algolia"===SEARCH_SERVICE?customSearch=new AlgoliaSearch({apiKey:ALGOLIA_API_KEY,appId:ALGOLIA_APP_ID,indexName:ALGOLIA_INDEX_NAME,imagePath:e}):"hexo"===SEARCH_SERVICE?customSearch=new HexoSearch({imagePath:e}):"azure"===SEARCH_SERVICE?customSearch=new AzureSearch({serviceName:AZURE_SERVICE_NAME,indexName:AZURE_INDEX_NAME,queryKey:AZURE_QUERY_KEY,imagePath:e}):"baidu"===SEARCH_SERVICE&&(customSearch=new BaiduSearch({apiId:BAIDU_API_ID,imagePath:e}))}function m(){var t=e(".tabs");if(0!==t.length){for(var a=t.find(".nav-tabs .tab"),o=0;o<a.length;o++){var n=t.find(a[o].children[0]);n.addClass(n.attr("href")),n.removeAttr("href")}e(".tabs .nav-tabs").on("click","a",function(t){t.preventDefault(),t.stopPropagation();var a=e(t.target.parentElement.parentElement.parentElement);return a.find(".nav-tabs .active").removeClass("active"),a.find(t.target.parentElement).addClass("active"),a.find(".tab-content .active").removeClass("active"),a.find(e(t.target).attr("class")).addClass("active"),!1})}}var u=80,v=e(".l_header");v[0]&&(u=v[0].clientHeight+16),e(function(){n(),i(),c(),r(),l(),o(),d(),m(),e(".scroll-down").on("click",function(){a(".safearea")});try{document.addEventListener("pjax:complete",function(c){if(-1==c.target.URL.indexOf("article"))if(window.location.hash)var r=setInterval(function(){"undefined"!=typeof jQuery&&e("#"+decodeURI(window.location.hash.split("#")[1]).replace(/\ /g,"-")).length&&(a(e("#"+decodeURI(window.location.hash.split("#")[1]).replace(/\ /g,"-"))),clearInterval(r))},100);else{var d=e(".safearea");d&&a(d)}e(function(){t(),n(),i(),s(),l(),o(),m();var a=e(".l_header .switcher .s-search"),c=e(".l_header");0!==a.length&&e(document).click(function(e){c.removeClass("z_search-open"),a.removeClass("active")})})})}catch(e){}})}(jQuery),window.location.hash)var checkExist=setInterval(function(){"undefined"!=typeof jQuery&&$("#"+decodeURI(window.location.hash.split("#")[1]).replace(/\ /g,"-")).length&&($("html, body").animate({scrollTop:$("#"+decodeURI(window.location.hash.split("#")[1]).replace(/\ /g,"-")).offset().top-40},500),clearInterval(checkExist))},100);$.extend({message:function(e){var t={title:"",message:" 操作成功",time:"3000",type:"success",showClose:!0,autoClose:!0,onClose:function(){}};"string"==typeof e&&(t.message=e),"object"==(void 0===e?"undefined":_typeof(e))&&(t=$.extend({},t,e));var a,o,n,i=t.showClose?'<div class="c-message--close">×</div>':"",c=""!==t.title?'<h2 class="c-message__title">'+t.title+"</h2>":"",s='<div class="c-message animated animated-lento slideInRight"><i class=" c-message--icon c-message--'+t.type+'"></i><div class="el-notification__group">'+c+'<div class="el-notification__content">'+t.message+"</div>"+i+"</div></div>",r=$("body"),l=$(s);o=function(){l.addClass("slideOutRight"),l.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){n()})},n=function(){l.remove(),t.onClose(t),clearTimeout(a)},$(".c-message").remove(),r.append(l),l.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){l.removeClass("messageFadeInDown")}),r.one("click",".c-message--close",function(e){o()}),t.autoClose&&(a=setTimeout(function(){o()},t.time))}});