"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},customSearch;if(function(e){function t(){u=80,v=e(".l_header",".cover-wrapper"),v[0]&&(u=v[0].clientHeight+16)}function o(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u,n=e(t.href?decodeURI(t.getAttribute("href")):t);e("html, body").animate({scrollTop:n.offset().top-o},500)}function n(){var t=e(".menu .active"),n=e(".s-top"),a=e("h1.title","#header-meta"),i=e(".l_body");void 0==window.pjax&&(t.length&&i&&t.click(function(e){e.preventDefault(),e.stopPropagation(),o(i),e.stopImmediatePropagation(),t.unbind("click")}),a.length&&i&&a.click(function(e){e.preventDefault(),e.stopPropagation(),o(i),e.stopImmediatePropagation(),a.unbind("click")})),n.length&&i&&n.click(function(e){e.preventDefault(),e.stopPropagation(),o(i),e.stopImmediatePropagation()});var c=e(".cover-wrapper"),s=e("#pjax-enable-cover").text(),l=0;c[0]&&"true"==s&&"none"!==e(".cover.half").css("display")&&(l=c[0].clientHeight-180);var r=document.body.scrollTop;"true"==s&&"none"===e(".cover.half").css("display")&&(r+=180),e(document,window).scroll(function(){var t=e(window).scrollTop();"true"==s&&"none"===e(".cover.half").css("display")&&(t+=180);var o=t-r;r=t,t>180?(n.addClass("show"),o>0?n.removeClass("hl"):n.addClass("hl")):n.removeClass("show").removeClass("hl"),t>l?v.addClass("show"):v.removeClass("show")})}function a(){if("true"==e.trim(e("#pjax-ispage").text())&&(window.subData={title:e.trim(e("#pjax-pageTitle").text()),tools:!0}),window.subData){var t=e("header .wrapper"),n=e(".s-comment",t),a=e(".s-toc",t);t.find(".nav-sub .title").text(window.subData.title);var i=document.body.scrollTop;e(document,window).scroll(function(){var o=e(window).scrollTop(),n=o-i;n>=50&&o>100?(i=o,t.addClass("sub")):n<=-50&&(i=o,t.removeClass("sub"))}),e(".l_body .comments").length?n.click(function(t){t.preventDefault(),t.stopPropagation(),o(e(".l_body .comments")),t.stopImmediatePropagation()}):n.remove();var c=e(".l_body .toc-wrapper");c.length&&c.children().length?(a.click(function(e){e.stopPropagation(),c.toggleClass("active"),a.toggleClass("active")}),e(document).click(function(e){e.stopPropagation(),c.removeClass("active"),a.removeClass("active")}),e(document,window).scroll(function(){c.removeClass("active"),a.removeClass("active")})):a.remove()}}function i(){var t=e("body .navigation");t.find("li a.active").removeClass("active"),t.find("div a.active").removeClass("active");var o=null,n=location.pathname.replace(/\/|%|\./g,"");0==n.length&&(n="home");var a=n.match(/page\d{0,}$/g);a&&(a=a[0],n=n.split(a)[0]);var i=n.match(/index.html/);i&&(i=i[0],n=n.split(i)[0]),n&&t&&(o=e("#"+n,t),function(e){e&&e.length&&e.addClass("active").siblings().removeClass("active")}(o))}function c(){e(".m-pc li > a[href]").parent().click(function(t){t.stopPropagation(),e(".m-pc .list-v").hide()}),e(".m-phone li").click(function(t){t.stopPropagation(),e(e(t.currentTarget).children("ul")).show()}),s()}function s(){e(document).click(function(t){e(".m-phone .list-v").hide()}),e(window).scroll(function(){e(".m-phone .list-v").hide()})}function l(){var t=e(".l_header .switcher .s-search"),o=e(".l_header"),n=e(".l_header .m_search");0!==t.length&&(t.click(function(e){e.stopPropagation(),o.toggleClass("z_search-open"),t.toggleClass("active"),n.find("input").focus()}),e(document).click(function(e){o.removeClass("z_search-open"),t.removeClass("active")}),n.click(function(e){e.stopPropagation()}),o.ready(function(){o.bind("keydown",function(e){if(9==e.keyCode)return!1;var t,o,n=!!document.all;n?(t=window.event.keyCode,o=window.event):(t=e.which,o=e),9==t&&(n?(o.keyCode=0,o.returnValue=!1):(o.which=0,o.preventDefault()))})}))}function r(){var t=e(".toc-wrapper");if(0!==t.length){t.click(function(e){e.stopPropagation(),t.addClass("active")}),e(document).click(function(){return t.removeClass("active")}),t.on("click","a",function(n){n.preventDefault(),n.stopPropagation(),"A"===n.target.tagName?o(n.target,0):"SPAN"===n.target.tagName&&o(n.target.parentElement,0),t.removeClass("active");var a=e(".s-toc");a.length>0&&a.removeClass("active")});var n=Array.from(t.find("li a")),a=function(){return n.map(function(t){return Math.floor(e(decodeURI(t.getAttribute("href"))).offset().top-u)})},i=a(),c=e(document).height(),s=function(){var t=e("html").scrollTop()||e("body").scrollTop();if(e(document).height()!=c&&(t=e("html").scrollTop()||e("body").scrollTop(),c=e(document).height(),i=a()),i){for(var o=0,s=i.length-1,l=void 0;o<s;)l=o+s+1>>1,i[l]===t?o=s=l:i[l]<t?o=l:s=l-1;e(n).removeClass("active").eq(o).addClass("active")}};e(window).scroll(function(){s()});var l=null;e(window).bind("resize",function(){l&&clearTimeout(l),l=setTimeout(function(){i=a(),s()},100)}),s()}}function d(){"google"===SEARCH_SERVICE?customSearch=new GoogleCustomSearch({apiKey:GOOGLE_CUSTOM_SEARCH_API_KEY,engineId:GOOGLE_CUSTOM_SEARCH_ENGINE_ID,imagePath:"/img/"}):"algolia"===SEARCH_SERVICE?customSearch=new AlgoliaSearch({apiKey:ALGOLIA_API_KEY,appId:ALGOLIA_APP_ID,indexName:ALGOLIA_INDEX_NAME,imagePath:"/img/"}):"hexo"===SEARCH_SERVICE?customSearch=new HexoSearch({imagePath:"/img/"}):"azure"===SEARCH_SERVICE?customSearch=new AzureSearch({serviceName:AZURE_SERVICE_NAME,indexName:AZURE_INDEX_NAME,queryKey:AZURE_QUERY_KEY,imagePath:"/img/"}):"baidu"===SEARCH_SERVICE&&(customSearch=new BaiduSearch({apiId:BAIDU_API_ID,imagePath:"/img/"}))}function m(){var t=e(".tabs");if(0!==t.length){for(var o=t.find(".nav-tabs .tab"),n=0;n<o.length;n++){var a=t.find(o[n].children[0]);a.addClass(a.attr("href")),a.removeAttr("href")}e(".tabs .nav-tabs").on("click","a",function(t){t.preventDefault(),t.stopPropagation();var o=e(t.target.parentElement.parentElement.parentElement);return o.find(".nav-tabs .active").removeClass("active"),o.find(t.target.parentElement).addClass("active"),o.find(".tab-content .active").removeClass("active"),o.find(e(t.target).attr("class")).addClass("active"),!1})}}var u=80,v=e(".l_header",".cover-wrapper");v[0]&&(u=v[0].clientHeight+16),e(function(){a(),i(),c(),l(),r(),n(),d(),m(),e(".scroll-down").on("click",function(){o(".l_body")});try{document.addEventListener("pjax:complete",function(){if(window.location.hash)var c=setInterval(function(){"undefined"!=typeof jQuery&&e("#"+decodeURI(window.location.hash.split("#")[1]).replace(/\ /g,"-")).length&&(o(e("#"+decodeURI(window.location.hash.split("#")[1]).replace(/\ /g,"-"))),clearInterval(c))},100);else{var l=e(".l_body");l&&o(l)}e(function(){t(),a(),i(),s(),r(),n(),m();var o=e(".l_header .switcher .s-search"),c=e(".l_header");0!==o.length&&e(document).click(function(e){c.removeClass("z_search-open"),o.removeClass("active")})})})}catch(e){}})}(jQuery),window.location.hash)var checkExist=setInterval(function(){"undefined"!=typeof jQuery&&$("#"+decodeURI(window.location.hash.split("#")[1]).replace(/\ /g,"-")).length&&($("html, body").animate({scrollTop:$("#"+decodeURI(window.location.hash.split("#")[1]).replace(/\ /g,"-")).offset().top-40},500),clearInterval(checkExist))},100);$.extend({message:function(e){var t={title:"",message:" 操作成功",time:"3000",type:"success",showClose:!0,autoClose:!0,onClose:function(){}};"string"==typeof e&&(t.message=e),"object"==(void 0===e?"undefined":_typeof(e))&&(t=$.extend({},t,e));var o,n,a,i=t.showClose?'<div class="c-message--close">×</div>':"",c=""!==t.title?'<h2 class="c-message__title">'+t.title+"</h2>":"",s='<div class="c-message animated animated-lento slideInRight"><i class=" c-message--icon c-message--'+t.type+'"></i><div class="el-notification__group">'+c+'<div class="el-notification__content">'+t.message+"</div>"+i+"</div></div>",l=$("body"),r=$(s);n=function(){r.addClass("slideOutRight"),r.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){a()})},a=function(){r.remove(),t.onClose(t),clearTimeout(o)},$(".c-message").remove(),l.append(r),r.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){r.removeClass("messageFadeInDown")}),l.one("click",".c-message--close",function(e){n()}),t.autoClose&&(o=setTimeout(function(){n()},t.time))}});